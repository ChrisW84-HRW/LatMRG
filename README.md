# [LatMRG](https://savamarc.github.io/LatMRG)

## About this software

**LatMRG** is a sofware packaged developped in the Simulation and Optimisation
laboratory at the Département d'informatique et de recherche opérationnelle at
Université de Montréal intended as the most up to date and feature
complete tool to search and test **Multiple Recursive** and similar **Random 
Number Generators**. There is a large variety of such generators:
- Linear Congruential Generators (LCG)
- Multiple Recursive Congruential Generators (MRG)
- Combined Multiple Recursive Congruential Generators
- Add-with-Carry (AWC) and Subtract-with-Burrow (SWB) Generators
- Multiply with Carry (MWC) Generators
- Matrix Multiple Recursive Generators (MMRG)

The goal of this software is to provide reliable theoretical tests of uniformity
for these generators, as well as tools to search for good and bad ones with
regards to these tests.

*LatMRG* is a collection of executables and a library available freely to
research the aforementioned random number generators. For short, in the
documentation of this library, linear congruential random number generators
might simply be called random number generators, RNG or even MRG. The linearity
of generators in this family implies that the points they output have a lot
of structure and can be studied easily. All the generators considered here
possess a **Lattice Structure** that LatMRG can extract and study.

Studying
this lattice can yield mesures called **Figures of Merit** that can assess of
the uniformity of the point distribution of the lattice. It is also possible
to know if the points of the generator are all on only a few hyperplans via the
lattice. Finally, LatMRG can also test the the period length of MRG generators.

The documentation of this software is segmented in multiple locations that each
contain different information:
- This page that contains a list of features and installation instructions.
  Beware, since Github cannot render mathematical equations, you need to be
  a bit familiar with the subject to read it.
- A more comprehensive description of the software, both in terms of number of
  features listed and explanation of the concepts.
- A tutorial containing examples using both the executables and the library.
- The API documentation for the library.

This software aims at both
- Providing extensive functionnality through executables
- Providing easy and ready to use and interface with representations of RNGs to
  expand the software and build 

## Domains of Use and Caveats

### Test your RNGs

This software only provides **theoretical tests** on RNG. **Theoretical
tests are not an alternative to statistical testing** but a complement to it.
A combination of parameters that LatMRG describes as good might not be useable
in practice because, although the points are well distributed, they do not
appear to be random. Any combination of parameters found via LatMRG that is
implemented should also be submited to **statistical tests**.
[This](https://github.com/lemire/testingRNG) Github repository provides a good
starting point to perform such tests.

### Use appropriate RNGs

There are a plethora of pseudo-random engines described on the web, and even more
implementations of such engines proposed. Examples include:
- [PCG](http://www.pcg-random.org/)
- [Vigna's take](http://xoshiro.di.unimi.it/) on xorshift generators
- [SplitMix](http://dx.doi.org/10.1145/2714064.2660195) generators available in
  Java

These random number generators provide a good quality of randomness as they
usually pass standard statistical tests well and are quite fast. This makes them
great multi-purpose RNGs, but they should
be used with care. They usually do not have the theoretical background necessary
to assess the uniformity of high dimension vectors generated by taking points
they output sequentially. This can cause problems in Monte Carlo simulations,
notably in physics, finance and statistics. Generators built with LatMRG can be
parametrized as to not have this problem, making them a better choice for this
use case.

## Getting it to work

*LatMRG* is a command line utility that is built and tested to work on Linux
only. This software should also work without much issues on macOS, but we do not
provide instructions for building on something else than Linux. Any user getting
the library to run on Windows or macOS would be welcome to provide us with his
or her process so that it can be added to this guide.

### Dependencies

LatMRG currently depends on
* [LatticeTester](https://github.com/umontreal-simul/latcommon): a utility library
upon which *LatMRG* builds. It currently is necessary to have this library in the
repository to compile *LatMRG*.
* [NTL](http://www.shoup.net/ntl/index.html): *LatMRG* heavily (and shamelesly)
uses the **Number Theory Library** developped by Victor Shoup. Make sure this is
installed with the NTL_THREADS=off option. This has to be in a standard path
as of now because *LatMRG* does not detect it otherwise.
* (*Factoring, free DLC*)[yafu](https://sourceforge.net/projects/yafu/): this factorization
utility unlocks some of the functionnality of *LatMRG*! To do so,
simply download the program and extract the `yafu` executable in `./data`. The
makefile will then include a preprocessor definition that will allow factoring.


### Configuring the build

LatMRG currently only has a very simple makefile that should work on most Linux
distributions. Assuming you have NTL installed in `/usr/local`, you can simply
call
```
git clone --recursive https://github.com/savamarc/LatMRG.git
cd LatMRG
make
```

This will pull and build the LatMRG library in `./LatMRG/lib`, and the executable
programs in `./LatMRG/bin`.

### Current maintainer(s)

[Marc-Antoine Savard](https://github.com/savamarc)
