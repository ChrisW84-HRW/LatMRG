# About LatMRG

**LatMRG** is a sofware packaged developped in the Simulation and Optimisation
laboratory at the Département d'informatique et de recherche opérationnelle at
Université de Montréal intended as the most up to date and feature
complete tool to search and test **Multiple Recursive** and similar **Random 
Number Generators**. There is a large variety of such generators:
- Linear Congruential Generators (LCG)
- Multiple Recursive Congruential Generators (MRG)
- Combined Multiple Recursive Congruential Generators
- Add-with-Carry (AWC) and Subtract-with-Burrow (SWB) Generators
- Multiply with Carry (MWC) Generators
- Matrix Multiple Recursive Generators (MMRG)

The goal of this software is to provide reliable theoretical tests of uniformity
for these generators, as well as tools to search for good and bad ones with
regards to these tests.

LatMRG is a collection of executables and a library available freely to
research the aforementioned random number generators. For short, in the
documentation of this library, linear congruential random number generators
might simply be called random number generators, RNG or even MRG. The linearity
of generators in this family implies that the points they output have a lot
of structure and can be studied easily. All the generators considered here
possess a **Lattice Structure** that LatMRG can extract and study.

Studying
this lattice can yield mesures called **Figures of Merit** that can assess of
the uniformity of the point distribution of the lattice. It is also possible
to know if the points of the generator are all on only a few hyperplans via the
lattice. Finally, LatMRG can also test the the period length of MRG generators.

The documentation of this software is segmented in multiple locations that each
contain different information:
- This page that contains a list of features and installation instructions.
  Beware, since Github cannot render mathematical equations, you need to be
  a bit familiar with the subject to read it.
- A more comprehensive description of the software, both in terms of number of
  features listed and explanation of the concepts.
- A tutorial containing examples using both the executables and the library.
- The API documentation for the library.

This software aims at both
- Providing extensive functionnality through executables
- Providing easy and ready to use and interface with representations of RNGs to
  expand the software and build 

## Domains of Use and Caveats

### Test your RNGs

This software only provides **theoretical tests** on RNG. **Theoretical
tests are not an alternative to statistical testing** but a complement to it.
A combination of parameters that LatMRG describes as good might not be useable
in practice because, although the points are well distributed, they do not
appear to be random. Any combination of parameters found via LatMRG that is
implemented should also be submited to **statistical tests**.
[This](https://github.com/lemire/testingRNG) Github repository provides a good
starting point to perform such tests.

### Use appropriate RNGs

There are a plethora of pseudo-random engines described on the web, and even more
implementations of such engines. Examples include:
- [PCG](http://www.pcg-random.org/)
- [Vigna's take](http://xoshiro.di.unimi.it/) on xorshift generators
- [SplitMix](http://dx.doi.org/10.1145/2714064.2660195) generators available in
  Java

These random number generators provide a good quality of randomness as they
usually pass standard statistical tests well and are quite fast. This makes them
great multi-purpose RNGs, but they should
be used with care. They usually do not have the theoretical background necessary
to assess the uniformity of high dimension vectors generated by taking points
they output sequentially. This can cause problems in Monte Carlo simulations,
notably in physics, finance and statistics. Generators built with LatMRG can be
parametrized as to not have this problem, making them a better choice for this
use case.

## Getting it to work

LatMRG tested to work on Linux only. It should also work without much hasle in
macOS. Since this program is a command line utility, Windows users will probably
be able to use it smoothly once the new
[terminal](https://github.com/microsoft/terminal) launches. Any user getting
the library to run on Windows or macOS is welcome to provide us with his
or her process so that it can be added to this guide.

### Dependencies

LatMRG currently depends on
* [LatticeTester](https://github.com/umontreal-simul/latcommon): a utility library
developped in our laboratory upon which LatMRG builds. This library is bundled
in the repository and automatically compiled with LatMRG.
* [NTL](http://www.shoup.net/ntl/index.html): LatticeTester heavily (and shamelesly)
uses the **Number Theory Library** developped by Victor Shoup. Make sure this is
installed with the NTL_THREADS=off option.
* [gmp](https://gmplib.org/): The GNU multiple precision library, needed by NTL.
This is packaged in most linux distrubtions. Be sure to also install the
library's header files.
* [yafu](https://sourceforge.net/projects/yafu/): this factorization
utility unlocks some of the functionnality of LatMRG! To do so,
simply download the program and extract the `yafu` executable in `./data`. The
makefile will then include a preprocessor definition that will allow factoring.

### Configuring the build

LatMRG currently only has a very simple makefile. If NTL is not installed in a
default prefix such as `/usr/local`, or if you use `clang` instead of `gcc` you
will need to modify it manually before building LatMRG. The following commands
will build the library and executables.
```
git clone --recursive https://github.com/savamarc/LatMRG.git
cd LatMRG/latticetester
./waf configure
cd ..
make
```

This will pull and build the LatMRG library in `./LatMRG/lib`, and the executable
programs in `./LatMRG/bin`. There is currently no way to install LatMRG in
standard path to ease the usage of the library or invoke it via the command line.

##Todo List

Here is a list of things that need to be done on this repository:
- Implement a good IO for executable. Make them fully command line instead of
using config files for more flexibility and scripting potential.
- Have the makefile look for dependencies
- Have an installation option

### Current maintainer(s)

[Marc-Antoine Savard](https://github.com/savamarc)
